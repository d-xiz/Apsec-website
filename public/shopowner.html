<!DOCTYPE html>
<html>
  <head>
    <title>Shop Owner Dashboard</title>
    <link rel="stylesheet" href="styles.css" />
    <script>
      window.onload = () => {
        const token = localStorage.getItem("token");
        if (!token) return (window.location.href = "/login.html");

        try {
          const payload = JSON.parse(atob(token.split(".")[1]));
          if (payload.role !== "ShopOwner") {
            alert("Access denied. Shop Owners only.");

            window.location.href = "/login.html";
          }
        } catch {
          window.location.href = "/login.html";
        }
      };

      function logout() {
        localStorage.removeItem("token");
        window.location.href = "/login.html";
      }
    </script>
  </head>
  <body>
    <h1>Welcome, Shop Owner</h1>
    <p>Manage your products, view orders, and track sales.</p>
    <button onclick="logout()">Logout</button>
  </body>
</html>
